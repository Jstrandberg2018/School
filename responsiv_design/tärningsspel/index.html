<html>
<head>
    <title>T칛rningsspel</title>
    <link rel="stylesheet" href="assets/style.css">
</head>

<a href="../index.html">Tillbaka</a>

<body>
    <div class="container">
        <!-- Huvudrubrik -->
        <h1>游 T칛rningsspel 游</h1>
        
        <!-- Spelregler -->
        <div class="instructions">
            <h2>Spelregler:</h2>
            <p>1. Klicka f칬r att kasta t칛rningen</p>
            <p>2. F친 en sexa f칬r att vinna! 游끥</p>
        </div>

        <!-- Spelknapp -->
        <button onclick="kastaTarning()" class="play-button">KASTA T츿RNING</button>

        <!-- Visar spelresultat och statistik -->
        <div class="game-status">
            <p id="resultat">Tryck f칬r att b칬rja spela!</p>
            <p id="stats">Antal f칬rs칬k: 0</p>
        </div>
    </div>
    
    <script>
        // Globala variabler f칬r att h친lla koll p친 spelstatus
        let forsok = 0;              // R칛knar antal f칬rs칬k
        let tarningRullar = false;   // F칬rhindrar flera kast samtidigt

        // Huvudfunktion som k칬rs n칛r spelaren klickar p친 knappen
        function kastaTarning() {
            // Stoppa om t칛rningen redan rullar
            if (tarningRullar) return;

            // Hantera "Spela igen" efter vinst
            if (document.querySelector(".play-button").innerHTML === "SPELA IGEN?") {
                aterstallSpel();
                return;
            }

            // Starta nytt kast
            startaKast();
            
            // V칛nta 1 sekund och visa resultat
            setTimeout(visaResultat, 1000);
        }

        // 칀terst칛ller spelet till ursprungsl칛ge
        function aterstallSpel() {
            forsok = 0;
            document.querySelector(".play-button").innerHTML = "KASTA T츿RNING";
            document.getElementById("resultat").innerHTML = "Tryck f칬r att b칬rja spela!";
            document.getElementById("stats").innerText = "Antal f칬rs칬k: 0";
        }

        // F칬rbereder f칬r ett nytt kast
        function startaKast() {
            tarningRullar = true;
            forsok++;
            
            const knapp = document.querySelector(".play-button");
            knapp.disabled = true;
            
            uppdateraText("stats", `Antal f칬rs칬k: ${forsok}`);
            uppdateraText("resultat", "<span class='rolling'>游 Kastar...</span>");
        }

        // Visar resultatet av kastet
        function visaResultat() {
            const tarning = Math.floor(Math.random() * 6) + 1;
            const vinst = tarning === 6;
            
            // Visa vinst eller f칬rlust meddelande
            uppdateraText("resultat", vinst 
                ? `<span class='win'>Grattis! Sexa p친 f칬rs칬k ${forsok}! 游꿀</span>`
                : `<span class='lose'>Du fick ${tarning}. F칬rs칬k igen!</span>`
            );
            
            // 칀terst칛ll knappen
            const knapp = document.querySelector(".play-button");
            knapp.innerHTML = vinst ? "SPELA IGEN?" : "KASTA T츿RNING";
            knapp.disabled = false;
            tarningRullar = false;
        }

        // Hj칛lpfunktion f칬r att uppdatera text
        function uppdateraText(id, text) {
            document.getElementById(id).innerHTML = text;
        }
    </script>
</body>
</html>